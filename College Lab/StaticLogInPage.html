<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StaticLogInPage</title>
    <link rel="stylesheet" href="/Designing/style.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <div>
        <div class="border-2 flex items-center justify-center min-h-screen">
            <div class="w-full max-w-md bg-white rounded-lg shadow-md shadow-cyan-200 p-8">
                <h2 class="logIn text-6xl font-bold text-gray-800 mb-14 flex items-center justify-center">Login</h2>
                <form id="myForm">
                    <div>
                        <label class="block mb-2 mt-4 text-3xl">Username</label>
                        <input type="text" class="block border-2 mt-2 mb-3 text-2xl w-full" id="Username"
                            placeholder="Enter your name" required>
                    </div>
                    <div>
                        <label class="block mb-2 mt-4 text-3xl">Email/No.</label>
                        <input type="text" class="block border-2 mt-2 mb-3 text-2xl w-full"
                            placeholder="Enter your email or number" id="email" required> 
                    </div>
                    <div>
                        <label class="block mb-2 mt-4 text-3xl">Password</label>
                        <input type="password" class="block border-2 mt-2 mb-3 text-2xl w-full" id="password" required>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <button type="submit"
                            class="py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Log in
                        </button>
                        <button type="button"
                            class="py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
                            onclick="signUp()">Sign up
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script>
        const Users = [
            {
                "username": "Rashi",
                "Email": "rashi2006@gmail.com",
                "number": "9999999999",
                "password": "faldu"
            },
            {
                "username": "Prashil",
                "Email": "prashil2005@gmail.com",
                "number": "8888888888",
                "password": "kyada"
            },
            {
                "username": "Rushi",
                "Email": "rushi2005@gmail.com",
                "number": "7777777777",
                "password": "raiyani"
            }
        ];

        document.getElementById('myForm').addEventListener('submit', function (event) {
            event.preventDefault();
            check();
            signUp();
        });

        function check() {
            const un = document.getElementById("Username").value;
            let isFound = false;
            let idx;

            for (let i = 0; i < Users.length; i++) {
                if (un === Users[i].username) {
                    idx = i;
                    isFound = true;
                    break;
                }
            }

            if (!isFound) {
                alert("Oops! Username does not exist..please sign up first or enter valid username");
                Username.value="";
                return;
            }

            const e = document.getElementById("email").value;
            if (e !== Users[idx].Email && e !== Users[idx].number) {
                alert("Invalid email or mobile number");
                email.value = "";
                return;
            }

            const pw = document.getElementById("password").value;
            if (pw !== Users[idx].password) {
                alert("Password is incorrect");
                password.value= "";
                return;
            }

            alert("Login successful!");
        }

        function signUp() {
            const un = document.getElementById("Username").value;
            let isFound = false;

            for (let i = 0; i < Users.length; i++) {
                if (un === Users[i].username) {
                    isFound = true;
                    break;
                }
            }

            if (isFound) {
                alert("Username already exists");
                return;
            }

            alert("Sign up successful");
        }
    </script>
</body>

</html>
